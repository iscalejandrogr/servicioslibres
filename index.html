<!DOCTYPE html> 
<html>
<head>

<meta charset="utf-8">
<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width;" />
<link href="css/jquery.mobile-1.4.3.min.css" rel="stylesheet" type="text/css"/>
<link href="css/jquery.mobile.structure-1.0.min.css" rel="stylesheet" type="text/css"/>

<script src="phonegap.js"></script>
<script src="js/jquery-2.1.1.js" type="text/javascript"></script>
<script src="js/jquery.mobile-1.4.3.min.js" type="text/javascript"></script>

<script type="text/javascript">
var pictureSource;   // Origen de la imagen
    var destinationType; // Formato del valor retornado

    // Espera a que PhoneGap conecte con el dispositivo.
    document.addEventListener("deviceready",onDeviceReady,false);

    // PhoneGap esta listo para usarse!
    function onDeviceReady() {
        pictureSource=navigator.camera.PictureSourceType;
        destinationType=navigator.camera.DestinationType;
    }

    // Llamada cuando la foto se retorna sin problemas
    function onPhotoDataSuccess(imageData) {
      // Descomenta esta linea para ver la imagen codificada en base64
      // console.log(imageData);

      // Obtiene el elemento HTML de la imagen
      var smallImage = document.getElementById('smallImage');

      // Revela el elemento de la imagen
      smallImage.style.display = 'block';

      // Muestra la foto capturada
      // Se usan reglas CSS para dimensionar la imagen
      smallImage.src = "data:image/jpeg;base64," + imageData;
    }

    // Llamada cuando la foto se retorna sin problemas
    function onPhotoURISuccess(imageURI) {
      // Descomenta esta linea para ver la ruta URI al fichero de imagen 
      // console.log(imageURI);

      // Obtiene el elemento HTML de la imagen
      var largeImage = document.getElementById('largeImage');

      // Revela el elemento de la imagen
      //
      largeImage.style.display = 'block';

      // Muestra la foto capturada
      // Se usan reglas CSS para dimensionar la imagen
      largeImage.src = imageURI;
    }

    // Un botón llamara a esta función
    function capturePhoto() {
      // Toma la imagen y la retorna como una string codificada en base64
      navigator.camera.getPicture(onPhotoDataSuccess, onFail, { quality: 50 });
    }

    // Un botón llamara a esta función
    function capturePhotoEdit() {
      // Toma la imagen, permite editarla y la retorna como una string codificada en base64
      navigator.camera.getPicture(onPhotoDataSuccess, onFail, { quality: 20, allowEdit: true }); 
    }

    // Un botón llamara a esta función
    function getPhoto(source) {
      // Retorna la ruta del fichero de imagen desde el origen especificado
      navigator.camera.getPicture(onPhotoURISuccess, onFail, { quality: 50, 
        destinationType: destinationType.FILE_URI,
        sourceType: source });
    }

    // Llamado cuando algo malo ocurre
    function onFail(message) {
      alert('Ocurrió un error: ' + message);
    }
</script>
</head>
<body>
<div data-role="page" id="principal">
	<div data-role="header" data-theme="b" data-position="fixed">
	<h1>Servicios de Libres</h1>
	</div>
    
	<div data-role="content">
   	<a href="#Registrar" data-role="button" > Registra servicios</a>	
   	<a href="#Consultar" data-role="button" > Consultar servicios</a>	
	</div>    
	<div data-role="footer" data-theme="b" data-position="fixed">
	<h1>Derechos reservados</h1>
	</div>

</div>
<div data-role="page" id="Registrar">
	<div data-role="header" data-theme="b" data-position="fixed" data-add-back-btn="true" data-rel="back">
	<h1>Registrar servicios</h1>
	</div>
    
	<div data-role="content">
	<form method="post" action="uno.php">
	  <!--fieldset class="ui-field-contain"-->
	        <input type="text" placeholder="Nombre del servicio" id="nombre" />
	        <textarea placeholder="Dirección" id="direccion"></textarea>
	        <input type="text" placeholder="Teléfono" id="telefono" />
	        <input type="email" placeholder="Correo electrónico" id="email" />
	        <select name="clasificacion" id="clasificacion" >
		  <optgroup label="Clasificación de servicios">
		    <option style="color:#ccc" value="" disabled selected >--Selecciona una clasificación--</option>
		    <option value="1">Hospitales</option>
		    <option value="2">Escuelas</option>
		    <option value="3">Centros comerciales</option>
		    <option value="4">Farmacias</option>
		    <option value="5">Zapaterías</option>
		    <option value="6">Tienda de abarrotes</option>
		    <option value="7">Restaurantes</option>
		    <option value="8">Materiale de Construcción</option>
		    <option value="9">Centros recreativos</option>
		    <option value="10">Plaza de gobierno</option>
		    </optgroup>
		</select>    
    <button onclick="capturePhoto();">Capturar foto</button> <br>
    <button onclick="capturePhotoEdit();">Capturar foto editable</button> <br>
    <button onclick="getPhoto(pictureSource.PHOTOLIBRARY);">Desde la librería de imágenes</button><br>
    <button onclick="getPhoto(pictureSource.SAVEDPHOTOALBUM);">Desde el álbum de fotos</button><br>
    <img style="display:none;width:60px;height:60px;" id="smallImage" src="" />
    <img style="display:none;" id="largeImage" src="" />
		<input type="button" id="obtenercord" value="Obtener coordenadas de ubicación " />
		<input type="text" placeholder="Latitud" id="latitud" readonly="readonly" />
		<input type="text" placeholder="Longitud" id="longitud" readonly="readonly" />
	  <!--/fieldset-->
	</form>	
	</div>    
	<div data-role="footer" data-position="fixed" data-theme="b" >
	<h1>Derechos reservados</h1>
	</div>
</div>

<div data-role="page" id="Consultar" >
	<div data-role="header" data-theme="b" data-position="fixed" data-add-back-btn="true" data-icon="back">
	<h1>Consultar servicios</h1>
	</div>
    
	<div data-role="content">

	</div>    
	<div data-role="footer" data-theme="b" data-position="fixed">
	<h1>Derechos reservados</h1>
	</div>

</div>
</body>
</html>
